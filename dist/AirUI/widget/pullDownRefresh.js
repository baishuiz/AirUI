Air.Module("AirUI.widget.pullDownRefresh",function(require){var t=function(t){function n(e){if(k.scrollTop<=0&&!v){var t="undefined"==typeof event?e:event;if(!t.touches)return v=!1,p=!1,void(y=!1);p=!0,c=h?t.touches[0].pageY:t.pageY,g.setTransition(0),b.style.display="none",m.style.display="block"}return!1}function o(e){if(k.scrollTop<=0&&p&&!v){var t="undefined"==typeof event?e:event;if(!t.touches)return v=!1,p=!1,void(y=!1);y=!0,d=h?t.touches[0].pageY:t.pageY,d>c&&(t.preventDefault(),g.setTransition(0),150>=(d-c-T)/2?(f=(d-c-T)/2,g.translate(f)):(f+=.3,g.translate(f)))}}function a(e){y&&!v&&(v=!0,d-c>=T+w?(b.style.display="block",m.style.display="none",g.setTransition(1),g.translate(40),"function"==typeof t.next&&t.next.call(g,e)):g.back())}function s(){v=!0}function l(){g.back()}var c,d,f,v=!1,p=!1,y=!1,h="ontouchstart"in window,E=document.querySelector(t.container),b=E.querySelector(".js-spinner"),m=E.querySelector(".js-top-notice"),T=b.clientHeight,k=document.body,w=50,g={translate:function(t){E.style.webkitTransform="translate3d(0,"+t+"px,0)",E.style.transform="translate3d(0,"+t+"px,0)"},setTransition:function(t){E.style.webkitTransition="all "+t+"s",E.style.transition="all "+t+"s"},back:function(){g.translate(0),v=!1,y=!1},addEvent:function(t,n,o){t.addEventListener?t.addEventListener(n,o,!1):t.attachEvent?t.attachEvent("on"+n,o):t["on"+n]=o}};return g.translate(0),g.addEvent(E,"touchstart",n),g.addEvent(E,"touchmove",o),g.addEvent(E,"touchend",a),g.addEvent(E,"mousedown",n),g.addEvent(E,"mousemove",o),g.addEvent(E,"mouseup",a),{setDisable:s,setEnable:l}};return t});