Air.Module("AirUI.widget.pullDownRefresh",function(t){var n=function(t){function n(t){if(v.scrollTop<=0&&!i){var e="undefined"==typeof event?t:event;i=!0,r=!0,n=l?e.touches[0].pageY:e.pageY,f.setTransition(0),u.innerHTML="下拉刷新数据"}return!1}function e(t){if(v.scrollTop<=0&&r){var e="undefined"==typeof event?t:event;a=l?e.touches[0].pageY:e.pageY,a>n&&(e.preventDefault(),f.setTransition(0),150>=(a-n-c)/2?(o=(a-n-c)/2,f.translate(o)):(o+=.3,f.translate(o)))}}function a(e){r&&(r=!1,a-n>=c?(f.setTransition(1),f.translate(0),u.innerHTML="正在刷新数据","function"==typeof t.next&&t.next.call(f,e)):f.back())}var n,a,o,i=!1,r=!1,s=/hp-tablet/gi.test(navigator.appVersion),l="ontouchstart"in window&&!s,d=document.querySelector(t.container),u=d.firstElementChild,c=u.clientHeight,v=d.parentElement,f={translate:function(t){d.style.webkitTransform="translate3d(0,"+t+"px,0)",d.style.transform="translate3d(0,"+t+"px,0)"},setTransition:function(t){d.style.webkitTransition="all "+t+"s",d.style.transition="all "+t+"s"},back:function(){f.translate(0-c),i=!1},addEvent:function(t,n,e){t.addEventListener?t.addEventListener(n,e,!1):t.attachEvent?t.attachEvent("on"+n,e):t["on"+n]=e}};f.translate(0-c),f.addEvent(d,"touchstart",n),f.addEvent(d,"touchmove",e),f.addEvent(d,"touchend",a),f.addEvent(d,"mousedown",n),f.addEvent(d,"mousemove",e),f.addEvent(d,"mouseup",a)};return n});