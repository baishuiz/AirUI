Air.Module("AirUI.widget.pullDownRefresh",function(t){var e=function(t){function e(t){if(y.scrollTop<=0&&!r){var e="undefined"==typeof event?t:event;if(!e.touches)return r=!1,l=!1,void(d=!1);r=!0,l=!0,a=u?e.touches[0].pageY:e.pageY,E.setTransition(0),v.style.display="none",f.style.display="block"}return!1}function n(t){if(y.scrollTop<=0&&l){var e="undefined"==typeof event?t:event;if(!e.touches)return r=!1,l=!1,void(d=!1);d=!0,s=u?e.touches[0].pageY:e.pageY,s>a&&(e.preventDefault(),E.setTransition(0),150>=(s-a-p)/2?(i=(s-a-p)/2,E.translate(i)):(i+=.3,E.translate(i)))}}function o(e){d&&(s-a>=p+h?(v.style.display="block",f.style.display="none",E.setTransition(1),E.translate(40),"function"==typeof t.next&&t.next.call(E,e)):E.back())}var a,s,i,r=!1,l=!1,d=!1,u="ontouchstart"in window,c=document.querySelector(t.container),v=c.querySelector(".js-spinner"),f=c.querySelector(".js-top-notice"),p=v.clientHeight,y=document.body,h=50,E={translate:function(t){c.style.webkitTransform="translate3d(0,"+t+"px,0)",c.style.transform="translate3d(0,"+t+"px,0)"},setTransition:function(t){c.style.webkitTransition="all "+t+"s",c.style.transition="all "+t+"s"},back:function(){E.translate(0),r=!1,d=!1},addEvent:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}};E.translate(0),E.addEvent(c,"touchstart",e),E.addEvent(c,"touchmove",n),E.addEvent(c,"touchend",o),E.addEvent(c,"mousedown",e),E.addEvent(c,"mousemove",n),E.addEvent(c,"mouseup",o)};return e});