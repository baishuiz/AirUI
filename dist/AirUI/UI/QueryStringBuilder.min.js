Air.Module("AirUI.UI.QueryStringBuilder",function(e){var r=function(e){function r(e){return e=e&&e.toLowerCase(),base.ArrayIndexOf(c,e)}function n(e,n){if(e&&n){var t=r(e);t>=0&&t<l.length?l[t]=n:(o.push(e),l.push(n),c.push(e.toLowerCase())),u[e]=n}return n}function t(e){var n=e?l[r(e)]:u;return n}function i(e){var n=r(e);e&&n>0?(delete u[e],o.splice(n,1),l.splice(n,1),c.splice(n,1)):(u={},o=[],l=[],c=[])}var a=arguments.callee;if(!(this instanceof a))return new a(e);var c=[],o=[],l=[],u={};if(e){var p=e.split("&");if(p)for(var s=p.length-1;s>=0;s--){var f=p[s],g=f&&f.split("="),h=g&&g[0],v=g&&g[1];h&&(u[h]=v,n(h,v))}}var d=function(e){try{e=e?decodeURIComponent(e):""}catch(r){}return encodeURIComponent(e).replace(/\*/g,"%2A").replace(/-/g,"%2D").replace(/_/g,"%5F").replace(/\./g,"%2E").replace(/!/g,"%21").replace(/~/g,"%7E").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")};this.set=n,this.get=t,this.remove=i,this.toString=function(e,r){e=e||"=",r=r||"&";for(var n=[],t=0;t<o.length;t++)l[t]&&n.push(d(o[t])+e+d(l[t]));return n.join(r)||""}};return r});