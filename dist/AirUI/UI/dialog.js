Air.Module("AirUI.UI.dialog",function(t){var o=t("AirUI.UI.popWindow"),e=function(t,o,n,i){t!==n&&t!==document.body&&(-1!==t.className.indexOf(o)?i(t):e(t.parentNode,o,n,i))},n=function(t){function i(){d.dialog=l.root,d.dialog.id="c-dialog",beacon(d.dialog).on("click",function(t){var o=t.target||t.srcElement;e(o,"js-close",d.dialog,function(t){s.close()})})}function c(){var t=s.content;"string"!=typeof t&&(t.style.display="none",document.body.appendChild(t),-1===a.indexOf(t)&&a.push(t))}if(t=t||{},!(this instanceof n))return new n(t);var s=this,l=new o({onClose:function(){c()},needMask:t.needMask});this.content="";var a=[],d={};this.show=function(t){t=t||{};var o="string"==typeof t.title?t.title:"消息提示",n=t.content,i="boolean"==typeof t.bottomBtns?t.bottomBtns:!1,c='<div class="pdb-bgm"></div><div class="pdb-main"><div class="pdb-title "><h4>'+o+'</h4><div class="border-out"><p class="border-in"><span class="js-close close icon icon-close"  title="关闭浮层">关闭</span></p></div></div><div class="pdb-content"><div class="pdb-contentframe">'+("string"==typeof n?n:"")+'</div></div><div class="pdb-bottom '+(i?"":"hidden")+' textcenter">'+(i?'<a class="dialog-btn btn-action js-ok"><em>确定</em></a><a class="dialog-btn btn-cancel js-cancel"><em>取消</em></a>':"")+"</div></div>";s.content=n,l.show(c),setTimeout(function(){var o=d.dialog;d.main=o.querySelector(".pdb-main"),d.bgm=o.querySelector(".pdb-bgm"),d.bodyWrap=o.querySelector(".pdb-content"),d.body=d.bodyWrap.querySelector(".pdb-contentframe"),n&&1===n.nodeType&&(d.body.appendChild(n),n.style.display="block"),d.titleWrap=o.querySelector(".pdb-title"),d.close=o.querySelector(".close"),d.bottom=o.querySelector(".pdb-bottom"),beacon(d.bottom).once("click",function(o){var n=o.target||o.srcElement;e(n,"js-ok",d.dialog,function(o){t.okAction&&t.okAction(o),s.close()}),e(n,"js-cancel",d.dialog,function(o){t.cancelAction&&t.cancelAction(o),s.close()})}),d.bodyWrap.style.height=d.body.offsetHeight+"px";var i=d.titleWrap.offsetHeight+d.bodyWrap.offsetHeight+d.bottom.offsetHeight;d.main.style.height=i+"px",d.bgm.style.height=i+"px";var c=d.main.offsetWidth;o.style.left=document.body.offsetWidth/2-c/2+"px",o.style.top=window.innerHeight/2-i/2+"px"},0)},this.close=function(){l.close(),c()},this.root=d.dialog,i()};return n});